(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36cf4e47"],{"13d5":function(t,e,i){"use strict";var r=i("23e7"),s=i("d58f").left,n=i("a640"),o=i("ae40"),c=n("reduce"),a=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!a},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},6006:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loading?i("Loader"):i("section",[i("div",{staticClass:"order"},[i("div",{staticClass:"order-categories"},[t.categories.length?t._l(t.categories,(function(e){return i("span",{key:e.id,staticClass:"order-categories__item",class:{active:t.catId===e.id},on:{click:function(i){return t.catClick(e.id)}}},[t._v(t._s(e.title))])})):i("p",[t._v(" Категорий пока нет, нажмите чтобы "),i("router-link",{attrs:{to:"/new_position"}},[t._v("создать.")])],1)],2),i("hr"),i("div",{staticClass:"order-subcategories"},[t.subcategoriesbyId.length?t._l(t.subcategoriesbyId,(function(e){return i("span",{key:e.id,staticClass:"order-subcategories__item",class:{active:t.subcatId===e.id},on:{click:function(i){return t.subCatClick(e.id)}}},[t._v(t._s(e.title))])})):i("p",[t._v(" В данной категории подкатегорий нет, нажмите чтобы "),i("router-link",{attrs:{to:"/new_position"}},[t._v("создать.")])],1)],2),i("hr",{staticClass:"mb-15"}),i("div",{staticClass:"order-positions"},[t.positionsbyId.length?t._l(t.positionsbyId,(function(e){return i("div",{key:e.id,staticClass:"order-positions__item",on:{click:function(i){return t.positionClick(e)}}},[i("p",[t._v(t._s(e.title))]),i("p",[t._v(t._s(e.price)+" руб")])])})):i("p",[t._v(" В данной подкатегории позиций нет, нажмите чтобы "),i("router-link",{attrs:{to:"/new_position"}},[t._v("создать.")])],1)],2),i("div",{staticClass:"order-descr"},[i("h4",{staticClass:"order-descr__title"},[t._v("Стоимость: "+t._s(t.orderPrice)+" руб")]),0!==t.orderPrice?i("router-link",{staticClass:"btn waves-effect waves-light btn-rotate",attrs:{to:"/new_order/info"}},[i("i",{staticClass:"material-icons"},[t._v("arrow_forward")])]):t._e()],1)])])],1)},s=[],n=(i("4de4"),i("13d5"),i("96cf"),i("1da1")),o={data:function(){return{loading:!0,categories:[],catId:null,subcategories:[],subcatId:null,subcategoriesbyId:[],positions:[],positionsbyId:[],count:"",order:this.$attrs.order}},mounted:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchCategories");case 2:return t.categories=e.sent,t.categories.length&&(t.catId=t.categories[0].id),e.next=6,t.$store.dispatch("fetchSubCategories");case 6:return t.subcategories=e.sent,e.next=9,t.$store.dispatch("fetchPositions");case 9:t.positions=e.sent,t.subcategoriesbyId=t.subcategories.filter((function(e){return e.categoryId===t.catId})),t.subcategoriesbyId.length&&1===t.subcategoriesbyId.length?t.subcatId=t.subcategoriesbyId[0].id:t.subcatId=t.subcategoriesbyId[1].id,t.positionsbyId=t.positions.filter((function(e){return e.categoryId===t.catId&&e.subCategoryId===t.subcatId})),t.loading=!1;case 14:case"end":return e.stop()}}),e)})))()},methods:{catClick:function(t){var e=this;this.catId=t,this.subcategoriesbyId=this.subcategories.filter((function(e){return e.categoryId===t})),this.subcatId=this.subcategoriesbyId.length&&1===this.subcategoriesbyId.length?this.subcategoriesbyId[0].id:this.subcategoriesbyId[1].id,this.positionsbyId=this.positions.filter((function(t){return t.subCategoryId===e.subcatId}))},subCatClick:function(t){this.subcatId=t,this.positionsbyId=this.positions.filter((function(e){return e.subCategoryId===t}))},positionClick:function(t){this.order.push(t),this.$emit("update",this.order),this.$emit("updatePrice",this.orderPrice,this.orderExpenses)}},computed:{orderPrice:function(){var t=this.order.reduce((function(t,e){return t+ +e.price}),0);return t},orderExpenses:function(){var t=this.order.reduce((function(t,e){return t+ +e.expenses}),0);return t}}},c=o,a=(i("8e45"),i("2877")),u=Object(a["a"])(c,r,s,!1,null,null,null);e["default"]=u.exports},"8e45":function(t,e,i){"use strict";var r=i("a11c"),s=i.n(r);s.a},a11c:function(t,e,i){},d58f:function(t,e,i){var r=i("1c0b"),s=i("7b0b"),n=i("44ad"),o=i("50c4"),c=function(t){return function(e,i,c,a){r(i);var u=s(e),d=n(u),l=o(u.length),b=t?l-1:0,f=t?-1:1;if(c<2)while(1){if(b in d){a=d[b],b+=f;break}if(b+=f,t?b<0:l<=b)throw TypeError("Reduce of empty array with no initial value")}for(;t?b>=0:l>b;b+=f)b in d&&(a=i(a,d[b],b,u));return a}};t.exports={left:c(!1),right:c(!0)}}}]);
//# sourceMappingURL=chunk-36cf4e47.53463d37.js.map