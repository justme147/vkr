(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-633f82e0"],{"3f2e":function(t,e,r){"use strict";var n=r("a4d5"),s=r.n(n);s.a},a4d5:function(t,e,r){},dfd9:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[r("router-link",{attrs:{to:"/order_list"}},[r("span",{staticClass:"navbar-left__arrow",attrs:{title:"К списку заказов"}},[r("i",{staticClass:"material-icons black-text"},[t._v("arrow_back")])])]),t._v("Информация о заказе ")],1)]),t.loading?r("Loader"):t.positions.length?r("section",{staticClass:"detail__inner"},[r("div",{staticClass:"detail__positions"},t._l(t.positions,(function(e,n){return r("div",{key:e.id+n,staticClass:"detail__item"},[r("p",[r("font",[t._v("Категория:")]),t._v(" "+t._s(e.categoryTitle)+" ")],1),r("p",[r("font",[t._v("Подкатегория:")]),t._v(" "+t._s(e.subCategoryTitle)+" ")],1),r("p",[r("font",[t._v("Позиция:")]),t._v(" "+t._s(e.title)+" ")],1),r("p",[r("font",[t._v("Цена:")]),t._v(" "+t._s(e.price)+" руб ")],1)])})),0),r("div",{staticClass:"detail__info"},[r("p",[r("font",[t._v("Имя:")]),t._v(" "+t._s(t.order.name)+" ")],1),r("p",[r("font",[t._v("Телефон:")]),t._v(" "+t._s(t.order.phone)+" ")],1),r("p",[r("font",[t._v("Дата заказа:")]),t._v(" "+t._s(t._f("date")(t.order.date,"date"))+" ")],1),r("p",[r("font",[t._v("Время заказа:")]),t._v(" "+t._s(t._f("date")(t.order.date,"time"))+" ")],1),r("p",[r("font",[t._v("Адрес:")]),t._v(" ул. "+t._s(t.order.street+" "+t.order.house+",")+" кв. "+t._s(t.order.appartment)+" ")],1),r("p",[r("font",[t._v("Подъезд:")]),t._v(" "+t._s(t.order.porch)+" ")],1),r("p",[r("font",[t._v("Этаж:")]),t._v(" "+t._s(t.order.floor)+" ")],1),r("p",[r("font",[t._v("Общая стоимость:")]),t._v(" "+t._s(t.order.price+" руб.")+" ")],1),r("button",{staticClass:"btn waves-effect waves-light right mt",on:{click:t.deleteOrder}},[t._v(" Отменить "),r("i",{staticClass:"material-icons right"},[t._v("delete_forever")])])])]):r("p",{staticClass:"error"},[t._v("Запись с id="+t._s(t.$route.params.id)+" не найдена")])],1)},s=[],a=(r("d81d"),r("96cf"),r("1da1")),i={name:"detail",data:function(){return{loading:!0,order:null,positions:[]}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.$route.params.id,e.next=3,t.$store.dispatch("fetchOrderById",r);case 3:t.order=e.sent,t.order.positions&&t.order.positions.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchPositionById",r.id);case 2:return n=e.sent,e.next=5,t.$store.dispatch("fetchCategoryById",n.categoryId);case 5:return s=e.sent,e.next=8,t.$store.dispatch("fetchSubCategoryById",n.subCategoryId);case 8:a=e.sent,t.positions.push({id:n.id,title:n.title,categoryTitle:s.title,subCategoryTitle:a.title,price:r.price});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log(t.positions),t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()},methods:{deleteOrder:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("deleteOrder",t.$route.params.id);case 3:t.$message("Заказ успешно отменен"),t.$router.push("/order_list"),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},o=i,c=(r("3f2e"),r("2877")),d=Object(c["a"])(o,n,s,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-633f82e0.81b2caeb.js.map